PDS_VERSION_ID                      = PDS3
LABEL_REVISION_NOTE                = "CREATED, PPI-UCLA, 4/14/04;
D. Kazden, removed unnecessary keywords, 2012-05-26;
D. Kazden, removed ARCHIVE_STATUS keyword, 2018-07-31; "

OBJECT                             = DATA_SET
  DATA_SET_ID                      = "GO-A-MAG-3-RDR-IDA-HIGH-RES-V1.0"

  OBJECT                           = DATA_SET_INFORMATION
    DATA_SET_NAME                  = "
                             GALILEO ORBITER A MAG RDR IDA HIGH RES V1.0"
    DATA_SET_COLLECTION_MEMBER_FLG = N
    START_TIME                     = 1993-08-28T15:56:00.266
    STOP_TIME                      = 1993-08-28T17:50:19.595
    DATA_SET_RELEASE_DATE          = 2004-05-01
    PRODUCER_FULL_NAME             = "MARGARET G. KIVELSON"
    DETAILED_CATALOG_FLAG          = N
    DATA_OBJECT_TYPE               = "TABLE"
    DATA_SET_TERSE_DESC            = "
      Galileo Orbiter Magnetometer (MAG) calibrated high-resolution data
      from the Ida flyby in spacecraft, EME-50, RTN and Ida Solar
      Ecliptic (IaSE) coordinates. These data cover the interval
      1993-08-28 15:56 to 1993-08-28 17:50."

    ABSTRACT_DESC                  = "
      Galileo Orbiter Magnetometer (MAG) calibrated high-resolution data
      from the Ida flyby in spacecraft, EME-50, RTN and Ida Solar
      Ecliptic (IaSE) coordinates. These data cover the interval
      1993-08-28 15:56 to 1993-08-28 17:50."

    CITATION_DESC                  = "Kivelson, M.G., Khurana, K.K.,
      Russell, C.T., Walker, R.J., Joy, S.P.,Green, J.,
      GALILEO ORBITER A MAG RDR IDA HIGH RES V1.0,
      GO-A-MAG-3-RDR-IDA-HIGH-RES-V1.0, NASA Planetary Data System, 2004"

    DATA_SET_DESC                  = "

  Data Set Overview
  =================
    This dataset contains data acquired by the Galileo Magnetometer
    during the Ida flyby on Aug 28. 1993. Limited space on the tape
    recorder forced the magnetometer team to limit their highest time
    resolution observations to a ~30 minute interval beginning after
    closest approach to Ida.

    In order to acquire the high time resolution mag data at Ida
    necessary to look for magnetic signatures similar to those observed
    at Gaspra, a new method of using the instrument optimal averager
    section was tested.  This method use the spacecraft Command and Data
    System (CDS) computer to sample the MAG data buffer memory to
    retrieve vectors every 4/3 second.  CDS stored the data in internal
    data buffers (DBUM1A and DBUM1B). The data were downlinked in back
    to earth in near real-time via CDS memory readouts (MROs). The data
    were highly over filtered by the instrument but many of the effects
    of over filtering could be removed in ground processing by knowing
    the filter response function. Details of this process are described
    below in the data processing section.

    High resolution magnetometer data are provided in four coordinate
    systems.  One set of data files contain data in Inertial Rotor
    Coordinates (IRC = despun spacecraft). This file includes the
    spacecraft attitude and spin phase angles from the AACS system and
    the sensor zero levels. The other data file contains magnetic field
    data in Ida-centric Solar Ecliptic (IdaSE), Earth Mean Equatorial
    equinox 1950 (EME-50), and Heliographic (RTN) coordinates.

    Trajectory data are provided as a separate dataset for each of the
    geophysical coordinate systems.


    Primary Dataset References:

      Kivelson, M.G., Z. Wang, S. Joy, K.K. Khurana, C. Polanskey,
      D.J. Southwood, and R.J. Walker, 'Solar Wind Interactions with
      Small Bodies: 2.  What Can Galileo's Detection of Magnetic
      Rotations Tell Us About GASPRA and IDA', Advances in Space
      Research, 459, 1995. [KIVELSONETAL1995]

      Wang, Z., and Kivelson, M.G., 'Asteroid interaction with solar
      wind', J. Geophys. Res., 101, 24479, 1996. [WANG&KIVELSON1996]


    Primary Instrument Reference:

      Kivelson, M.G., K.K. Khurana, J.D. Means, C.T. Russell, and R.C.
      Snare, 'The Galileo magnetic field investigation', Space Science
      Reviews, 60, 1-4, 357, 1992. [KIVELSONETAL1992]


  Data
  ====

    ------------------------------------------------------------------
    Table 1. Data record structure, Spacecraft Coordinates (IRC)
    ------------------------------------------------------------------
    Column    Description
    ------------------------------------------------------------------
    time      S/C event time (UT) given in PDS time format
              YYYY-MM-DDThh:mm:ss.sssZ
    rotattt   Rotor twist angle (EME-50)
    rotattd   Rotor attitude declination (EME-50)
    rotattr   Rotor attitude right ascension (EME-50)
    spinangl  Rotor spin angle - inertial S/C coordinates
    spindelt  Rotor spin motion delta &#10094;radians/minor frame&#10095;
    screlcon  Rotor-Platform relative cone angle
    screlclk  Rotor-Platform relative clock angle
    Bx_sc     Magnetic field X component in S/C (IRC) coords. &#10094;nT&#10095;
    By_sc     Magnetic field Y component in S/C (IRC) coords. &#10094;nT&#10095;
    Bz_sc     Magnetic field Z component in S/C (IRC) coords. &#10094;nT&#10095;
    Bmag      |B| Magnitude of B &#10094;nT&#10095;

    ------------------------------------------------------------------
    Table 2. Data record structure, Geophysical Coordinates (GaSE,
             EME-50, and RTN)
    ------------------------------------------------------------------
    Column    Description
    ------------------------------------------------------------------
    time      S/C event time (UT) given in PDS time format
              YYYY-MM-DDThh:mm:ss.sssZ
    Bx_IdaSE  X component of B in IdaSE coords. (towards Sun) &#10094;nT&#10095;
    By_IdaSE  Y component of B in IdaSE coords. (towards dusk) &#10094;nT&#10095;
    Bz_IdaSE  Z component of B in IdaSE coords. (|| to ecliptic
              normal) &#10094;nT&#10095;
    Bx_eme50  Magnetic field X component in EME-50 coords. &#10094;nT&#10095;
    By_eme50  Magnetic field Y component in EME-50 coords. &#10094;nT&#10095;
    Bz_eme50  Magnetic field Z component in EME-50 coords. &#10094;nT&#10095;
    Br        Magnetic field radial component in RTN coords. &#10094;nT&#10095;
    Bt        Magnetic field tangential component in RTN coords. &#10094;nT&#10095;
    Bn        Magnetic field normal component in RTN coords. &#10094;nT&#10095;
    Bmag      |B| Magnitude of B &#10094;nT&#10095;

    Missing data value = 99999.999


    Data Acquisition
    ----------------
      The data for this dataset were all acquired in by the outboard
      magnetometer sensors in the flip left mode in the low field mode
      (ULLR). This mode has a digitization step size of 0.0625
      nanoTesla. However, these data are acquired at 30 vectors/second
      and then recursively filtered in the instrument. The high rate
      data that are recorded to tape have a sample rate of 4.5
      vectors/second. If there is sufficient variation in the 6-7 input
      samples that make up a single output sample, then the effective
      digitization step size becomes much smaller. The data are next
      passed to an onboard processing algorithm which corrects the data
      for offsets, gains, and geometry. The data can now be sent to the
      tape recorder or passed to the optimal averager section of the
      instrument.

      Optimal averager data are decimated to 1 vector every minor frame
      such that only the first sample of he minor frame is retained.
      These data are then despun into Inertial Rotor Coordinates (IRC)
      and passed to another recursive filter operation. The filter used
      in the Ida high resolution (4/3 sec) data was:

        Bo(i) = (15/16) * Bo(i-1) + (1/16)*Bi(i)

      where Bo(i) is the output of the i-th sample and Bi(i) is the new
      input vector at the time of the i-th sample. Data were sampled by
      the CDS every 4/3 second.

      Data are not averaged any further. The time tags associated with the
      data records is the sample time given is Spacecraft Event Time
      (SCET) in Universal Time (UT).


  Coordinate System
  =================
    The Galileo magnetometer data are being archived in 4 coordinate
    systems.  The first coordinate system is referred to as inertial
    rotor coordinates (IRC). This coordinate system has the Z axis along
    the rotor spin axis, positive away from the antenna and the X and Y
    axes lies in the rotor spin plane. In a crude sense, when the
    spacecraft is far from Earth, +X points south, normal to the
    ecliptic plane, positive Y lies in the ecliptic plane in the sense
    of Jupiter's orbital motion and positive Z is in the anti-earth
    direction. The spacecraft antenna (negative Z direction) is kept
    earthward pointing to about +/- 10 deg accuracy.

    Idacentric Solar Ecliptic (IdaSE) is a Ida centered coordinate
    system defined by the primary vector along the instantaneous
    Ida-&#10095;Sun (GSun) line and the Earth's ecliptic north pole (ENP) as
    the secondary vector. In this coordinate system:

      X is the GSun unit vector taken to be positive towards the Sun.
      Y is the formed by the unitized cross product ENP x GSun.
      Z completes the right handed set (Z = X x Y) such that the
        X-Z plane contains the ecliptic north pole.

    The Earth Mean Equatorial equinox of 1950 (EME-50) coordinate system
    is an inertial reference system. The primary vector vector in this
    system points from the Earth towards Aries at the reference epoch.
    The secondary vector is along the Earth's rotational axis positive
    towards it's north pole. In this coordinate system:

      X is a unit vector in the direction of Aries at the equinox
        of 1950
      Y is a unit vector in the direction of Z x X
      Z is a unit vector in the direction of the Earth's equatorial
        north pole at the equinox of 1950.

    The EME-50 coordinate system is directly supported by SPICE as the
    'FK4' inertial reference frame.

    The heliographic (RTN) coordinate system centered at the Sun. The
    primary vector in this system points from the center of the Sun to
    the spacecraft (R).  The secondary vector in this system is the
    Sun's north rotational axis (Omega).

      R is along R, positive away from the Sun.
      T is along the cross product Omega x R
      N completes the right handed set (R x T)

    The magnetic field perturbation associated with the Ida flyby
    [KIVELSONETAL1995] is most easily understood in one of two principal
    axis coordinate systems. At Gaspra the data were rotated into what
    was called an IMF coordinate system by rotating the field about the
    asteroid-Sun line (X-axis, solar wind flow direction) such that the
    IMF was contained in the X-Y plane. This same type of coordinate
    system is useful at Ida. The average upstream field orientation
    between 16:40 and 16:45 in IdaSE coordinates defines the IMF
    direction. The rotation from IdaSE coordinates to IdaIMF coordinates
    is a 15.86 degree righthanded rotation about the IdaSE +X-axis. In
    this coordinate system, the solar wind flow direction is the
    principal axis (X) and the IMF direction is the secondary vector.
    [KIVELSONETAL1995] define a second principal axis coordinate system
    which places the X axis along the upstream IMF direction while
    maintaining the solar wind flow direction in the X-Y plane. This
    coordinate system can be obtained by a -62.52 degree righthanded
    rotation of the IdaIMF coordinate system data about the IdaIMF
    +Z-axis. These coordinate systems are only valid for a short
    interval near the time interval that defines the IMF direction.
    [KIVELSONETAL1995] use these coordinate systems only in the analysis
    of data acquired between 16:30 and 17:20 UT on the day of encounter
    (8/28/93).


  Ancillary Data
  ==============
    A subset of the Galileo interplanetary cruise magnetometer dataset
    (GO-SS-MAG-4-SUMM-CRUISE-RTN-V1.0) has been supplied as an ancillary
    data product with this archive. The cruise data are provided to
    place the encounter data in context with large scale structures in
    the solar wind and IMF. These data are provided in RTN coordinates
    which is a standard coordinate system for solar wind data analysis.
    The time interval provided (9/10/91 - 11/24/91) spans roughly 3
    solar rotations centered on the asteroid flyby. These data show that
    the Gaspra encounter occurred in an 'away' sector a day or so before
    a large field compression associated with a corotating interaction
    region.  The data are stored as an ASCII table in the file
    'CRUISE.TAB'.

    ------------------------------------------------------------------
    Table 3. Data record structure, RTN coordinates cruise data
    ------------------------------------------------------------------
    Column    Description
    ------------------------------------------------------------------
    time      S/C event time (UT) given in PDS time format
    sc_clk    S/C clock counter given in the form rim:mod91:mod10:mod8
    Br        Magnetic field radial component &#10094;nT&#10095;
    Bt        Magnetic field tangential component &#10094;nT&#10095;
    Bn        Magnetic field normal component &#10094;nT&#10095;
    Bmag      |B| Magnitude of B &#10094;nT&#10095;
    R         Radial distance of the spacecraft from the Sun &#10094;AU&#10095;
    LAT       Solar latitude of the spacecraft &#10094;degrees&#10095;
    LON       Solar east longitude of the spacecraft &#10094;degrees&#10095;
    avg_con   Onboard averaging interval for the magnetometer data &#10094;RIM*&#10095;
    delta     Magnetic inclination angle: delta=arcsin(Bn/Bmag) &#10094;radians&#10095;
    lambda    Magnetic azimuth angle: lambda = atan2(Bt/Br) &#10094;radians&#10095;

    * 1 RIM = 60.667 seconds (spacecraft major frame)


  Data Processing
  ===============
    The tape recorded portion of this dataset was processed according to
    the standard methods employed for LRS data. These methods have been
    well described in the Venus, Earth, and Gaspra documentation. A 1-D
    spacecraft interference function was removed from the LRS data
    during their processing. The 1-D and 2-D methods and coefficients
    are described in the Earth 1 and 2 data processing descriptions.
    Recorded data cover the time interval 16:53:20.026 through
    17:21:36.691. Data sampling in this interval in the normal 3 vectors
    per minor frame with sample times offset from the start of the minor
    frame by (0.0, 0.2333, 0.2333) seconds.

    The remainder of the dataset was acquired by using the optimal
    averager and CDS in a special procedure used only at Ida. The
    highest normal data acquisition rate of the optimal averager section
    of the instrument is 1 vector per spacecraft frame (RIM). In order
    to achieve the higher desired data rates, the spacecraft CDS readout
    the instrument memory where the recursive filter stores its vectors
    every other minor frame (4/3 sec). The data were stored in CDS data
    buffers DBUM1A and DBUM1B and then returned by CDS memory readouts
    (MRO). The readout of the CDS memory did not go smoothly and had to
    be done several times due to telemetry errors. In the end, pieces of
    memory were reconstructed by hand with various address ranges coming
    from various MRO files. Even after hand splicing segments of data
    together, many small segments of data contained dropouts and
    spurious values.

    In order to recover from the effects of over-filtering of the data,
    the data were deconvolved with the filter response function in the
    frequency domain.  This process is not tolerant of data spikes or
    gaps. In regions of lost or contaminated data, data were
    interpolated from the nearest good values.  The interpolation scheme
    used was unable to seamlessly replace missing data.  The effect of
    this procedure is to introduce ringing in these areas during the
    deconvolution.

    Filter ringing also occurs at the ends of the interval in the FFT
    when the data are transformed back to the time domain. The crossover
    from CDS DBUM1A to DBUM1B occurred at closest approach. At the
    crossover, a minor frame timing shift occurred. In other words, even
    though all of the data in DBUM1A and DBUM1B are sampled at 4/3
    second, the separation between the two buffers is 2 seconds. The FFT
    method does not tolerate uneven sampling. In order to get around
    this problem, and not have FFT edge effects at closest approach, the
    entire dataset was resampled to 2/3 second by linear interpolation
    for the filter recovery and the data from both buffers were
    deconvolved together.

    After the proper signal amplitude and phase were recovered, the
    offsets were removed. The instrument removes the best guess of the
    sensor zero levels prior to despinning the data and passing it to
    the optimal averager. Any residual DC offset is then spun up to the
    spin frequency by the despinning process. In order to remove the
    offsets from the despun data, the spin plane components were notch
    filtered in the frequency domain. The data were Fourier transformed
    and the background spectra was determined. In the frequency band
    affected by spin tone, the real and imaginary components of the
    transform were separately set to match background levels. The data
    were then transformed back into the time domain. The spin aligned
    sensor offset was determined and removed using the values determined
    from the cruise data.

    After the data were transformed back into the time domain, the data
    that were added during the interpolation to even 2/3 second sampling
    were removed. Only values at times when data were actually take
    remain in the dataset. Data at the ends of the dataset where strong
    FFT ringing occurs have been excluded.

    Attitude control data necessary to transform the magnetometer data
    into geophysical coordinates was acquired only for the few seconds
    during the taking of each of the Ida images. This very sparse AACS
    data was linearly interpolated between values. Since the data were
    already despun, spin phase information was not required."

    CONFIDENCE_LEVEL_NOTE          = "

  Confidence Level Overview
  ========================
    These data have been highly processed to obtain the final dataset.
    Both the magnetometer data and the AACS data required to transform
    the mag data into geophysical coordinates are of lower than average
    quality. The dataset should not be used in wave studies. Much of the
    processing has been done in the frequency domain and the spectra
    clearly show the effects. Overall, the field values are probably
    correct to 0.01 nT and the AACS angles to better than a degree. The
    segment of data that were recorded to tape (16:53 -&#10095;17:22) do not
    carry as strong a warning but users should be wary of power at the
    spin period or its harmonics. The recorded data interval provided a
    mechanism for verifying the filter recovered data properly reflect
    the source signal at the sampling resolution. Both types of data
    were simultaneously acquired for about 30 minutes. When superimposed
    on each other, the filter recovered data accurately trace the high
    resolution data but they appear to have a high frequency cutoff that
    is less than would be expected from 4/3 second samples."


  END_OBJECT                       = DATA_SET_INFORMATION

  OBJECT                           = DATA_SET_TARGET
    TARGET_NAME                    = "IDA"
  END_OBJECT                       = DATA_SET_TARGET


  OBJECT                           = DATA_SET_HOST
    INSTRUMENT_HOST_ID             = GO
    INSTRUMENT_ID                  = MAG
  END_OBJECT                       = DATA_SET_HOST

  OBJECT                           = DATA_SET_MISSION
    MISSION_NAME                   = "GALILEO"
  END_OBJECT                       = DATA_SET_MISSION

  OBJECT                           = DATA_SET_REFERENCE_INFORMATION
    REFERENCE_KEY_ID               = "KIVELSONETAL1992"
  END_OBJECT                       = DATA_SET_REFERENCE_INFORMATION

  OBJECT                           = DATA_SET_REFERENCE_INFORMATION
    REFERENCE_KEY_ID               = "KIVELSONETAL1995"
  END_OBJECT                       = DATA_SET_REFERENCE_INFORMATION

  OBJECT                           = DATA_SET_REFERENCE_INFORMATION
    REFERENCE_KEY_ID               = "WANG&KIVELSON1996"
  END_OBJECT                       = DATA_SET_REFERENCE_INFORMATION

END_OBJECT                         = DATA_SET
END
