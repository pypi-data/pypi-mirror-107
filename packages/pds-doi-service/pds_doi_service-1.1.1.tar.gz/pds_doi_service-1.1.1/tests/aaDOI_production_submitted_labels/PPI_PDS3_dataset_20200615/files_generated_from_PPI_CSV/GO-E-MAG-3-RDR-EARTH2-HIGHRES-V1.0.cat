PDS_VERSION_ID                      = PDS3
LABEL_REVISION_NOTE                = "CREATED, PPI-UCLA, 6/16/98;
D. Kazden, removed unnecessary keywords, 2012-05-26;
D. Kazden, removed ARCHIVE_STATUS keyword, 2018-07-31;"

OBJECT                             = DATA_SET
  DATA_SET_ID                      = "GO-E-MAG-3-RDR-EARTH2-HIGHRES-V1.0"

  OBJECT                           = DATA_SET_INFORMATION
    DATA_SET_NAME                  = "
                        GALILEO ORBITER EARTH MAG RDR EARTH2 HIGHRES V1.0"
    DATA_SET_COLLECTION_MEMBER_FLG = N
    START_TIME                     = 1992-11-03T00:48:11.315
    STOP_TIME                      = 1992-12-19T02:39:51.910
    DATA_SET_RELEASE_DATE          = 2003-03-01
    PRODUCER_FULL_NAME             = "MARGARET G. KIVELSON"
    DETAILED_CATALOG_FLAG          = N
    DATA_OBJECT_TYPE               = "TABLE"
    DATA_SET_TERSE_DESC            = "
              Galileo Orbiter Magnetometer (MAG) calibrated
              high-resolution data from the Earth-2 flyby in
              spacecraft, GSE, and GSM coordinates. These data
              cover the interval 1992-11-03 to 1992-12-19."
    ABSTRACT_DESC                  = "
              Galileo Orbiter Magnetometer (MAG) calibrated
              high-resolution data from the Earth-2 flyby in
              spacecraft, GSE, and GSM coordinates. These data
              cover the interval 1992-11-03 to 1992-12-19."
    CITATION_DESC                  = "
              Kivelson, M.G., Khurana, K.K., Russell, C.T., Walker, R.J., 
              Joy, S.P.,Green, J., GALILEO ORBITER EARTH MAG RDR EARTH2 
              HIGHRES V1.0, GO-E-MAG-3-RDR-EARTH2-HIGHRES-V1.0, NASA 
              Planetary Data System, 2003"
    DATA_SET_DESC                  = "

  Data Set Overview
  =================
    This dataset contains data acquired by the Galileo Magnetometer
    from the Earth 2 encounter. The data are at the full instrument
    resolution for the 7.68 kB Low Rate Science (LRS) real time
    telemetry mode.

    The data are provided in three coordinate systems: despun
    spacecraft or inertial rotor coordinates (IRC), Geocentric Solar
    Ecliptic (GSE) and Geocentric Solar Magnetic (GSM). The IRC
    coordinate data files also include many of the data processing
    parameters from the AACS system as well as the sensor zero levels.

    These data have been fully processed to remove instrument response
    function characteristics and interference from magnetic sources
    aboard the spacecraft. The data are provided in physical units
    (nanoTesla).


  Processing
  ==========
    These data have been processed from the PDS dataset:
    'GO-E/V/A-MAG-2-RDR-RAWDATA-HIRES-V1.0'

    The 'raw data' product was created from the EDR dataset by
    removing the data processing done by the instrument in space. The
    raw data dataset contains the raw instrument samples which have
    been recursively filtered and decimated. In order to generate the
    IRC processed data, the following procedure was followed:

      1)  Sensor zero level corrections were subtracted from the raw
          data,
      2)  Data were converted to nanoTesla,
      3)  A coupling matrix which orthogonalizes the data and corrects
          for gains was applied to the data (calibration applied),
      4)  Magnetic sources associated with the spacecraft were
          subtracted from the data,
      5)  Data were 'despun' into inertial rotor coordinates,

    For a more detailed description of these proceedures please refer
    to the file /CALIB/HR_PROC.TXT. For more information regarding
    data calibration please refer to [KEPKOETAL1996].


  Parameters
  ==========
    Data Sampling:

    The Galileo magnetometer samples the magnetic field 30 times per
    second. These highest rate samples are recursively filtered and
    then resampled by the instrument at 4.5 vectors per second using a
    7,7,6 decimation pattern.

    Recursive Filter:

    B(t) = 1/4 Bs(t) + 3/4 B(t-1)

    B  = output field
    Bs = input field measured by the sensor
    t  = sample time

    The pattern is generated by doubling the spacecraft clock modulo
    10 counter and then applying the decimation scheme. This gives 3
    vectors every spacecraft minor frame (about 2/3 second) which are
    sampled unevenly. The first vector in a minor frame is sampled
    approximately 0.200 seconds after the last vector in the preceding
    minor frame. The other two samples are taken approximately 0.233
    seconds apart. The time tag associated with a sample is the
    decimation time.

    Data Acquisition:

    The data for this dataset were acquired as part of the normal
    instrument calibration activities associated with the cruise to
    Jupiter. As such, the instrument was commonly configured in modes
    which required calibration even though they may not have been the
    optimal mode for science data acquisition. The Galileo
    magnetometer has 8 possible LRS acquisition configurations
    (modes). There are two sensor triads mounted 7 and 11 meters from
    the rotor spin axis (inboard and outboard) along the boom. Each of
    the sensor triads has two gain states (high and low). In addition,
    the sensor triads can be 'flipped' to move the spacecraft
    spin-axis aligned sensor into the spin plane and visa versa.
    Please see the instrument description (/CATALOG/MAGINST.CAT) for
    full details on the instrument, sensors, and geometries. The
    combinations of sensor, gain state, and flip direction form modes.

    ------------------------------------------------------------------
    Table 1. Mode Characteristics
    ------------------------------------------------------------------
    Mode Name                     Acronym    range        quantization
    ------------------------------------------------------------------
    Inboard,  left,  high range*   ILHR     +/- 16384 nT    8.0   nT
    Inboard,  right, high range*   IRHR     +/- 16384 nT    8.0   nT
    Inboard,  left,  low  range*   ILLR     +/-   512 nT    0.25  nT
    Inboard,  right, low  range*   IRLR     +/-   512 nT    0.25  nT
    Outboard, left,  high range*   ULHR     +/-   512 nT    0.25  nT
    Outboard, right, high range*   URHR     +/-   512 nT    0.25  nT
    Outboard, left,  low  range*   ULLR     +/-    32 nT    0.008 nT
    Outboard, right, low  range*   URLR     +/-    32 nT    0.008 nT


    ------------------------------------------
    Table 2. Mode Change History
    ------------------------------------------
    s/c clock        date/time           mode
    ------------------------------------------
    00562976:00:0    90-305/16:31        ULHR
    00572976:00:0    90-316/17:00        ULLR
    00578673:00:0    90-320/17:00        URLR
    00586204:00:0    90-325/23:55        URHR
    00592915:00:0    90-330/17:01        ILLR
    00597439:00:0    90-333/21:15        IRLR
    00610156:00:0    90-342/19:33        IRHR
    00610509:00:0    90-343/01:30        IRLR
    00615701:00:0    90-346/17:00        URLR
    00618550:00:0    90-348/17:00        URHR
    00624261:00:0    90-352/17:15        ULHR

    * range is the opposite of gain

    In addition to exercising the various instrument modes during the
    first earth encounter, numerous instrument calibration activities
    were performed. These include using both the internal and external
    calibration coils. Data corrupted by the use of the calibration
    coils or by the flipper motor have been removed from the processed
    data. These data have been archived with the Experimenter Data
    Records (EDR) and other Magnetometer team raw data archive
    products.


  Data
  ====
    The data are provided in three (3) coordinate systems (IRC, GSE,
    and GSM). Data from the two geophysical coordinate systems are
    stored in a single file. The IRC data are stored in a separate
    file, and include some of the AACS and sensor offset parameters
    which were used in processing the data. The structure and contents
    of the data files are described below. The coordinate systems are
    described later in this document in the section entitled
    'Coordinate Systems.'

    Data file structures:

    ------------------------------------------------------------------
    Table 3. Data record structure, IRC Coordinates Data Files
    ------------------------------------------------------------------
    Column  Type     Description &#10094;units&#10095;
    ------------------------------------------------------------------
    time     char     Spacecraft event time, PDS time format
    sclk     char     Spacecraft clock (rim:mod91:mod10:mod8)
    Bx_sc    float    B-field X component in S/C (IRC) coordinates &#10094;nT&#10095;
    By_sc    float    B-field Y component in S/C (IRC) coordinates &#10094;nT&#10095;
    Bz_sc    float    B-field Z component in S/C (IRC) coordinates &#10094;nT&#10095;
    Bmag     float    |B| Magnitude of B &#10094;nT&#10095;
    o1       float    Offset subtracted from sensor1
    o2       float    Offset subtracted from sensor2
    o3       float    Offset subtracted from sensor3
    rotattd  float    Rotor attitude declination (EME-50)
    rotattr  float    Rotor attitude right ascension (EME-50)
    rotattt  float    Rotor twist angle (EME-50)
    spinangl float    Rotor spin angle - inertial S/C coordinates
    spindelt float    Rotor spin motion delta &#10094;radians/minor frame&#10095;
    screlclk float    Rotor-Platform relative clock angle
    screlcon float    Rotor-Platform relative cone angle
    dqf      float    Data quality flag (see 'CONFIDENCE_LEVEL_NOTE'
                      for more details)

    ------------------------------------------------------------------
    Table 4. Data record structure, GSE/GSM Coordinates Data Files
    ------------------------------------------------------------------
    Column  Type     Description &#10094;units&#10095;
    ------------------------------------------------------------------
    time     char     Spacecraft event time, PDS time format
    Bx       float    B-field X component in GSE or GSM coords. &#10094;nT&#10095;
    By_gse   float    B-field Y component in GSE coordinates &#10094;nT&#10095;
    Bz_gse   float    B-field Z component in GSE coordinates &#10094;nT&#10095;
    By_gsm   float    B-field Y component in GSM coordinates &#10094;nT&#10095;
    Bz_gsm   float    B-field Z component in GSM coordinates &#10094;nT&#10095;
    Bmag     float    |B| Magnitude of B &#10094;nT&#10095;


  Ancillary Data
  ==============
    Trajectory data for GSE and GSM coordinates are provided
    separately as part of the GO-E-POS-4-SUMM-E2-GSE/GSM-COORDS-V1.0
    data set.


  Coordinate Systems
  ==================
    The data are provided in three coordinate systems. Data are
    provided in the spacecraft coordinate system in order to aid in
    the interpretation of particle instrument data. The other two
    coordinate systems provided for use in Earth magnetospheric
    studies.

    The IRC coordinate system takes the basic rotor coordinate system
    (Y along the boom, Z opposing the high gain antenna) which is
    spinning, and despins by using the rotor spin angle. In this
    system, Z still points roughly away from the Earth (with about
    +/- 10 degree accuracy) along the rotor spin axis, X is
    approximately parallel to the downward ecliptic normal, and Y
    completes the right-handed set.

    Geocentric Solar Ecliptic (GSE) and Geocentric Solar Magnetic
    (GSM) are related earth centered coordinate systems. Both the GSE
    and GSM X directions are taken along the Earth - Sun line,
    positive towards the Sun. The GSE Z direction is parallel to the
    ecliptic normal, positive northward, and Y completes the
    right-handed set (towards dusk). For GSM, the X-Z plane contains
    the Earth's dipole moment vector, positive northward, and Y
    completes the right-handed set. GSE coordinates are commonly used
    for analyzing the solar wind near the Earth and GSM coordinates
    are used when analyzing data inside the Earth's bow shock."

    CONFIDENCE_LEVEL_NOTE          = "

  Review
  ======
    These data have been reviewed by the instrument team and are of
    the highest quality that can be generated at this time. Science
    results based on some of these data have been published in several
    journals (Science, JGR, etc.). After submission to PDS, these data
    successfully completed the peer review process.


  Confidence Level Overview
  =========================
    Each aspect of the data processing sequence can be analyzed to
    determine its maximum possible error contribution. In theory,
    these errors could be summed to provide estimates of the maximum
    error for each data point. Error analysis for these data have not
    been taken to that level.

    The MAG team believes that calibrations (sensor geometry and
    gains) are good enough that they produce a negligible source of
    data error. In addition, that the coordinate system
    transformations which are derived from the SPICE kernels and
    Toolkit are believed to be negligible sources of error in the
    magnetic field vectors. The most significant sources of error are
    those associated with magnetic sources aboard the spacecraft,
    especially those with temporal or spacecraft orientation
    variations. The next greatest contributor of error is the data
    from the AACS which affects our knowledge of the spacecraft
    orientation and hence rotates the magnetic field vector. Lastly,
    telemetry or software errors which produce 'spikes' or bit errors
    in the data are error sources.


  Data Coverage and Quality
  =========================
    In regions where the magnetic sources associated with the
    spacecraft are fairly constant, magnetic interference is probably
    reduced by data processing to better than 0.05 nT at the inboard
    sensors. In these same regions, sensor zero levels (offsets) are
    known equally well. The data processing software does a fairly
    good job of removing all currently identified sources of magnetic
    interference. However, there are some time intervals when the zero
    levels of the spin plane sensors show large variations (1-5 nT) on
    short time scales (minutes to hours). After a while (hours to
    days) the offsets return to their nominal levels. The source of
    these magnetic fields has not yet been identified. The method of
    removing offsets from the spin plane sensors does remove these
    effects, but the method of determining the spin axis aligned
    sensor offsets does not. In regions where large variations are
    detected in the spin plane sensors it is reasonable to assume that
    similar variations are taking place in the spin axis aligned
    sensor.

    A second problem in determining and removing the magnetic
    interference associated with the spacecraft is the movement of
    these magnetic sources. At the Earth 2 encounter an extensive test
    was done to determine the interference patterns as a function of
    the position of the magnetic sources. Data was taken with the scan
    platform at fifteen degree intervals and the interference was
    successfully modeled.

    ------------------------------------------------------------------
    Table 5. Intervals Corrupted by Interference (Earth 2)
    ------------------------------------------------------------------
    Time interval                frequencies        Amplitude of the
                                                      interference
                                                  remaining in |B|(nT)
    ------------------------------------------------------------------


  Limitations
  ===========
    MAG data processing software creates a data quality flag (DQF)
    which is an assessment of AACS and telemetry error source
    contamination of a given data point. This number is binary integer
    where each bit indicates the presence or absence of some error
    source. The number 0 represents the absence of all error sources
    which are tested. The higher order bit (larger number) error
    sources are considered to be more significant error sources. Data
    are examined for gradients in the field which might be associated
    with telemetry bit errors, for regions of bad AACS angles, and
    for completely missing data. If the error is considered completely
    unrecoverable, the data values are replaced with a missing data
    flag. In the case of a flag in the rotor spin angle, the vector
    components may be flagged but the magnitude is still valid. Here
    is a list of all of the error checks and the bits they set in the
    dqf field.

    ------------------------------------------------------------------
    Table 6. Data Quality Flag (DQF) Values
    ------------------------------------------------------------------
    DQF_GOOD_DATA                 0  Good data
    DQF_BX_GRAD_WARNING         2^0  Component gradient warning
    DQF_BY_GRAD_WARNING         2^1  Component gradient warning
    DQF_BZ_GRAD_WARNING         2^2  Component gradient warning
    DQF_INTERP_ROTATTR          2^3  Missing rotor RA interpolated
    DQF_INTERP_ROTATTD          2^4  Missing rotor DEC interpolated
    DQF_INTERP_SPINDELT         2^5  Missing rotor Spin Delta
                                     interpolated
    DQF_INTERP_SCRELCON         2^6  Missing Relative Cone angle
                                     interpolated
    DQF_INTERP_SCRELCLK         2^7  Missing Relative Clock angle
                                     interpolated
    DQF_INTERP_ROTATTT          2^8  Missing rotor Twist interpolated
    DQF_INTERP_SPINANGL         2^9  Missing rotor Spin interpolated
    DQF_ROTATTR_FLAG            2^10 Missing rotor RA flagged
    DQF_ROTATTD_FLAG            2^11 Missing rotor DEC flagged
    DQF_SPINDELT_FLAG           2^12 Missing rotor Spin Delta flagged
    DQF_SCRELCON_FLAG           2^13 Missing Relative Cone angle
                                     flagged
    DQF_SCRELCLK_FLAG           2^14 Missing Relative Clock angle
                                     flagged
    DQF_ROTATTT_FLAG            2^15 Missing rotor Twist flagged
    DQF_AACS_TELEMETRY_HIT_FLAG 2^16 Telemetry hit in AACS record
    DQF_MAG_TELEMETRY_HIT_FLAG  2^17 Telemetry hit in mag record
    DQF_SPINANGL_FLAG           2^18 Missing rotor Spin flagged

    DQF_BX_GRAD_ERROR           2^25 Component gradient error
    DQF_BY_GRAD_ERROR           2^26 Component gradient error
    DQF_BZ_GRAD_ERROR           2^27 Component gradient error
    DQF_BX_FLAG                 2^28 Component flagged
    DQF_BY_FLAG                 2^29 Component flagged
    DQF_BZ_FLAG                 2^30 Component flagged

    Magnetic field gradient warning or error levels are set during the
    data processing according to expected variances depending on the
    region of space.  In the solar wind, gradient warnings are usually
    issued at gradients of 10 nT/sec and errors at 15 nT/sec. In the
    magnetosheath, these values may be 50 percent larger. In the inner
    magnetosphere, these dqf flags may be completely turned off.
    Similarly, AACS angles are interpolated across gaps during the
    processing if the gap length is relatively short (less than 10
    minutes typically). If the gaps in spacecraft attitude are long,
    the AACS angles are flagged and not interpolated.

    Errors associated with AACS angles have various effects on the
    data. The rotor right ascension and declination are crucial to the
    understanding of the spacecraft orientation. Fortunately, these
    angles are slowly varying and can be interpolated to better than 1
    degree of accuracy for long (many hour) time periods except near
    major spacecraft maneuvers. The relative clock and cone angles are
    used to remove scan platform interference. In their absence, no
    interference is removed (+/- 0.15 nT error possible in each
    component). The rotor motion spin delta is used to determine the
    instantaneous spin frequency for the phase delay computation. In
    its absence, the last known phase delay is applied to the current
    data point. The rotor spin angle and twist angle must be present
    in order to despin the data. These angles are generally not
    interpolated for more than ten minutes because the rotor spin
    period drifts over time periods on this order."


  END_OBJECT                       = DATA_SET_INFORMATION

  OBJECT                           = DATA_SET_TARGET
    TARGET_NAME                    = "EARTH"
  END_OBJECT                       = DATA_SET_TARGET

  OBJECT                           = DATA_SET_HOST
    INSTRUMENT_HOST_ID             = GO
    INSTRUMENT_ID                  = MAG
  END_OBJECT                       = DATA_SET_HOST

  OBJECT                           = DATA_SET_MISSION
    MISSION_NAME                   = "GALILEO"
  END_OBJECT                       = DATA_SET_MISSION

  OBJECT                           = DATA_SET_REFERENCE_INFORMATION
    REFERENCE_KEY_ID               = "KIVELSONETAL1993"
  END_OBJECT                       = DATA_SET_REFERENCE_INFORMATION

  OBJECT                           = DATA_SET_REFERENCE_INFORMATION
    REFERENCE_KEY_ID               = "KEPKOETAL1996"
  END_OBJECT                       = DATA_SET_REFERENCE_INFORMATION

  OBJECT                           = DATA_SET_REFERENCE_INFORMATION
    REFERENCE_KEY_ID               = "MCPHERRONETAL1993"
  END_OBJECT                       = DATA_SET_REFERENCE_INFORMATION

END_OBJECT                         = DATA_SET
END
