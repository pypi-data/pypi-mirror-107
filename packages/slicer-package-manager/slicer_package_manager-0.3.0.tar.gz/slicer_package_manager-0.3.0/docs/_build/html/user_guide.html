

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>User Guide &mdash; Slicer Package Manager 0.1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Commands shell" href="commands_shell.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Slicer Package Manager
          

          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Administrator Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="prerequisites.html">System Prerequisites</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption"><span class="caption-text">User Documentation:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">User Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-the-slicer-package-manager">How to use the Slicer Package Manager?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#concepts">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#schema-of-concepts">Schema of concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-clean-up-the-draft-release-folder">How to clean up the Draft release folder?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-create-a-new-release-with-existing-uploaded-packages">How to create a new release with existing uploaded packages?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#download-statistics">Download Statistics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="commands_shell.html">Commands shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="slicer_package_manager.html">Server API</a></li>
<li class="toctree-l1"><a class="reference internal" href="slicer_package_manager_client.html">Python Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">Release Notes</a></li>
</ul>
<p class="caption"><span class="caption-text">Maintainer Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="make_a_release.html">Making a release</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Slicer Package Manager</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>User Guide</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/user_guide.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="user-guide">
<h1>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h1>
<p>The <strong>Slicer Package Manager</strong> is a Girder plugin to easily manage application packages
and extension packages from an Application. It is used by the Slicer community to share
Slicer extensions by allowing to Upload and Download them. Build onto the open source
data management platform: <strong>Girder</strong>, the <strong>Slicer Package Manager</strong> use some of the
<a class="reference external" href="https://girder.readthedocs.io/en/latest/user-guide.html#concepts">girder concepts</a> developed in Girder and embedded new ones as Application, Release,
Draft, Package or Extension.</p>
<p>This plugin is designed to be robust, fast, extensible and easy to use.</p>
<p>The server side is built in Python under the open source
<a class="reference external" href="https://www.apache.org/licenses/LICENSE-2.0.html">Apache License, version  2.0</a>.</p>
<div class="section" id="how-to-use-the-slicer-package-manager">
<h2>How to use the Slicer Package Manager?<a class="headerlink" href="#how-to-use-the-slicer-package-manager" title="Permalink to this headline">¶</a></h2>
<p>There are 3 different ways to use the Slicer Package Manager:</p>
<ul>
<li><p>By using the User Interface (Work In Progress):</p>
<blockquote>
<div><p>If you don’t want to use neither the Shell or python script, this UI is made for you.
Let see the [documentation] to know how to use it.</p>
</div></blockquote>
</li>
<li><p>By using the <a class="reference internal" href="slicer_package_manager_client.html"><span class="doc">Python Client API</span></a> within Python script:</p>
<blockquote>
<div><p>Using the Python Client API allow you to write scripts for create application, new release and
automatically upload or download application or extensions packages.</p>
</div></blockquote>
</li>
<li><p>By using the <a class="reference internal" href="commands_shell.html"><span class="doc">Commands shell</span></a>:</p>
<blockquote>
<div><p>This is the more easy way to use the basic feature of the Slicer Package Manager.
These commands allow you to easily create, list, or delete applications and releases,
and also list, upload, download or delete application or extension packages.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="concepts">
<span id="id1"></span><h2>Concepts<a class="headerlink" href="#concepts" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p><strong>Application</strong>:</p>
<blockquote>
<div><p>Applications are simple <em>Girder Folder</em>. They represent top-level folders which contain
all the different releases, application and extensions packages of your application.
By default when you create a new application, it will automatically be created within
the default Girder collection ‘Applications’
(see <a class="reference external" href="https://girder.readthedocs.io/en/latest/user-guide.html#concepts">Girder concept</a>
to learn more about Girder collections and Folder).</p>
<p>Applications contain metadata that organize the application and extension packages
following a same name:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">applicationPackageNameTemplate</span></code> (set as <code class="docutils literal notranslate"><span class="pre">{baseName}_{os}_{arch}_{revision}</span></code> by default).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extensionPackageNameTemplate</span></code> (set as <code class="docutils literal notranslate"><span class="pre">{app_revision}_{baseName}_{arch}_{os}_{revision}</span></code>
by default).</p></li>
</ul>
<p>These template names correspond to the given name of all the uploaded application or
extensions packages. Which means that all the packages (application or extension) will
have a name that follow these templates depending on their given metadata during the
upload.</p>
<p>These templates can be changed at anytime using the Girder UI on the application view.</p>
</div></blockquote>
</li>
<li><p><strong>Release</strong>:</p>
<blockquote>
<div><p>Release are also simple <em>Girder Folder</em>. They are part of an application and correspond to a
specific revision of this application. They meant to contain application or extension packages
which correspond to this specific application revision.
It’s why each release has the application <code class="docutils literal notranslate"><span class="pre">revision</span></code> as metadata.</p>
</div></blockquote>
</li>
<li><p><strong>Draft</strong>:</p>
<blockquote>
<div><p>Draft is a simple <em>Girder Folder</em> which contain a flat list of <strong>Release</strong> named as the
corresponding application revision by default. When a new application is created, the <em>draft</em>
folder is also created. This <em>draft</em> folder is used as default release when the upload
of an application or an extension package occurs and which its own <em>application revision</em>
doesn’t correspond to any release of the application (by checking the correspondence
between the <code class="docutils literal notranslate"><span class="pre">revision</span></code> metadata stored on the release and the <code class="docutils literal notranslate"><span class="pre">app_revision</span></code> stored on
the packages).</p>
<p>However the <em>draft</em> folder does not contain any metadata. Only the release that’s contained
into it got a <code class="docutils literal notranslate"><span class="pre">revision</span></code> metadata (corresponding to the application revision they are
made for).</p>
</div></blockquote>
</li>
<li><p><strong>Package</strong>:</p>
<blockquote>
<div><p>Package (application package) are <em>Girder Item</em> which contains only one binary file (the real
application package). They are part of an application, and can only be found in a release
folder. They are named following the <code class="docutils literal notranslate"><span class="pre">applicationPackageNameTemplate</span></code> set on the application
they are made for.</p>
<p>Each application package contain a bunch of metadata that give us information on which
environment the package is made for like : Operating System: <code class="docutils literal notranslate"><span class="pre">os</span></code>, architecture: <code class="docutils literal notranslate"><span class="pre">arch</span></code>,
application revision: <code class="docutils literal notranslate"><span class="pre">revision</span></code>, repository url… (see the
<a class="reference external" href="https://slicer-package-manager.readthedocs.io/en/latest/slicer_package_manager.api.html#slicer_package_manager.api.app.App.createOrUpdatePackage">list of parameters of Package</a>
on the server API to have an exhausted list of all the metadata).</p>
<p>When uploading an application package, some of these metadata are required, the <code class="docutils literal notranslate"><span class="pre">revision</span></code>
metadata is used to determine in which release to upload the application package.
The release which have the same <code class="docutils literal notranslate"><span class="pre">revision</span></code> metadata will see the application package
uploaded into it.
If any release within the application has a matching revision,
the application package will be uploaded into the corresponding <em>draft</em> release (by default).
By searching for an existing draft release (with the matching revision) or if it doesn’t
already exist, by creating a new one.</p>
<p>The package file (binary file) during the upload will be kept as it within Girder. So when
the extension will be downloaded, the downloaded file will keep the same extension
(.bin, .zip, …). For instance, if the uploaded package is named ‘pkg.tar.gz’, then each
time this application package will be downloaded, the downloaded file will keep the same
‘.tar.gz’ extension.</p>
</div></blockquote>
</li>
<li><p><strong>Extension</strong>:</p>
<blockquote>
<div><p>As an application package, an Extension package is also a <em>Girder Item</em>, and has the same
behavior than an application package. It contain a single binary file. The name of all
uploaded extension follow the <code class="docutils literal notranslate"><span class="pre">extensionPackageNameTemplate</span></code> metadata stored in the
<strong>Application</strong>.</p>
<p>See the <a class="reference external" href="https://slicer-package-manager.readthedocs.io/en/latest/server.api.html#server.api.app.App.createOrUpdateExtension">list of parameters of Extension</a> on the server API to have an exhausted list of all the metadata.</p>
</div></blockquote>
</li>
</ul>
</div>
<div class="section" id="schema-of-concepts">
<h2>Schema of concepts<a class="headerlink" href="#schema-of-concepts" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Applications</span>
   <span class="o">|---</span> <span class="n">packages</span>
   <span class="o">|</span>        <span class="o">|-----</span> <span class="n">Slicer</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|-----</span> <span class="mf">1.0</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|----</span> <span class="n">Slicer</span><span class="o">-</span><span class="n">linux</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|----</span> <span class="n">Slicer</span><span class="o">-</span><span class="n">macos</span><span class="o">.</span><span class="n">dmg</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|----</span> <span class="n">Slicer</span><span class="o">-</span><span class="n">win</span><span class="o">.</span><span class="n">exe</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|----</span> <span class="n">extensions</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>         <span class="o">|----</span> <span class="n">Extension1</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>         <span class="o">|----</span> <span class="n">Extension2</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>         <span class="o">|----</span> <span class="n">Extension3</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>         <span class="o">|----</span> <span class="n">Extension4</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|-----</span> <span class="mf">2.0</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>        <span class="o">|</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|-----</span> <span class="n">draft</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|---</span> <span class="n">r100</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>      <span class="o">|----</span> <span class="n">Slicer</span><span class="o">-</span><span class="n">linux</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>      <span class="o">|----</span> <span class="n">Slicer</span><span class="o">-</span><span class="n">macos</span><span class="o">.</span><span class="n">dmg</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>      <span class="o">|----</span> <span class="n">Slicer</span><span class="o">-</span><span class="n">win</span><span class="o">.</span><span class="n">exe</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>      <span class="o">|-----</span> <span class="n">extensions</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|</span>      <span class="o">|</span>          <span class="o">|----</span> <span class="n">Extension1</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>        <span class="o">.</span>      <span class="o">.</span>          <span class="o">.</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>        <span class="o">.</span>
   <span class="o">|</span>        <span class="o">|</span>         <span class="o">|</span>        <span class="o">|---</span> <span class="n">r101</span>
   <span class="o">.</span>        <span class="o">.</span>         <span class="o">.</span>        <span class="o">.</span>      <span class="o">|</span>
   <span class="o">.</span>        <span class="o">.</span>
   <span class="o">|</span>        <span class="o">|</span>
   <span class="o">|</span>        <span class="o">|------</span><span class="n">SlicerCustom</span>
</pre></div>
</div>
</div>
<div class="section" id="how-to-clean-up-the-draft-release-folder">
<h2>How to clean up the Draft release folder?<a class="headerlink" href="#how-to-clean-up-the-draft-release-folder" title="Permalink to this headline">¶</a></h2>
<p>Every day more than 300 extensions are supposed to be uploaded into the Slicer Package Manager. It’s important to be
able to clean up the old packages occasionally. Here’s the process to do it:</p>
<p>The command: <code class="docutils literal notranslate"><span class="pre">slicer_package_manager_client</span> <span class="pre">draft</span> <span class="pre">list</span> <span class="pre">&lt;APP_NAME&gt;</span> <span class="pre">--offset</span> <span class="pre">&lt;N&gt;</span></code> allows to list the oldest draft subfolders
related to old application revision. Using this command, you will be able to get a list of <code class="docutils literal notranslate"><span class="pre">revision</span></code> and then use the
command <code class="docutils literal notranslate"><span class="pre">slicer_package_manager_client</span> <span class="pre">draft</span> <span class="pre">delete</span> <span class="pre">&lt;APP_NAME&gt;</span> <span class="pre">&lt;REVISION&gt;</span></code> in a loop to delete them all.</p>
<p>There is also a bash script you can use easily to do that for you. In the directory
<code class="docutils literal notranslate"><span class="pre">slicer_package_manager/python_client</span></code>, you will find the <code class="docutils literal notranslate"><span class="pre">cleanNightly.sh</span></code> script.</p>
<p>To be able to run this script make sure to have the <code class="docutils literal notranslate"><span class="pre">slicer_package_manager_client</span></code> installed on your machine, if not
check the <a class="reference internal" href="commands_shell.html"><span class="doc">Commands shell</span></a> documentation.</p>
<p>Then just enter:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ ./cleanNightly.sh &lt;API_URL&gt; &lt;API_KEY&gt; &lt;N&gt;
</pre></div>
</div>
<ul class="simple">
<li><p>API_URL: The URL of the distant machine, for instance <a class="reference external" href="http://192.168.xxx.xxx/api/v1">http://192.168.xxx.xxx/api/v1</a></p></li>
<li><p>API_KEY: The token that allow you to use the client</p></li>
<li><p>N: Number of draft release you want to keep, all the oldest will be deleted</p></li>
</ul>
</div>
<div class="section" id="how-to-create-a-new-release-with-existing-uploaded-packages">
<h2>How to create a new release with existing uploaded packages?<a class="headerlink" href="#how-to-create-a-new-release-with-existing-uploaded-packages" title="Permalink to this headline">¶</a></h2>
<p>Follow this few steps to be able to update a draft release into a stable release:</p>
<ul class="simple">
<li><p>Open the Girder UI, go under your application folder (Slicer here). By default it should be inside the
<code class="docutils literal notranslate"><span class="pre">Applications</span></code> collection, that you can find under the <code class="docutils literal notranslate"><span class="pre">Collections</span></code> item in the main menu.</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Applications</span>
       <span class="o">|---</span> <span class="n">packages</span>
       <span class="o">|</span>        <span class="o">|-----</span> <span class="n">Slicer</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Look for the specific application revision folder under the <code class="docutils literal notranslate"><span class="pre">draft</span></code> folder within the application. All the packages
which are contained in this folder will be part of the futur new stable release.</p></li>
<li><p>Select all the element contained in this folder by using the <code class="docutils literal notranslate"><span class="pre">Pick</span> <span class="pre">all</span> <span class="pre">checked</span> <span class="pre">resources</span> <span class="pre">for</span> <span class="pre">Copy</span> <span class="pre">or</span> <span class="pre">Move</span></code> action</p></li>
<li><p>Go to the new release folder, that you can create both by using the CLI or the Girder UI. In the case of the Girder UI
you will need to give a specific metadata on the folder: <code class="docutils literal notranslate"><span class="pre">revision:</span> <span class="pre">&lt;revision-of-the-application&gt;</span></code> corresponding the
this release.</p></li>
<li><p>Once you created the new release folder, enter inside it, then use the <code class="docutils literal notranslate"><span class="pre">Copy</span> <span class="pre">picked</span> <span class="pre">resources</span> <span class="pre">here</span></code></p></li>
<li><p>You will just need to delete the draft sub-folder used to make the new stable release</p></li>
</ul>
</div>
<div class="section" id="download-statistics">
<h2>Download Statistics<a class="headerlink" href="#download-statistics" title="Permalink to this headline">¶</a></h2>
<p>Each time an extension is downloaded (using the Client or the UI), a metadata is incremented on the release folder.
This allow to referenced all downloaded extension even after their deletion.</p>
<p>The download count is stored in the metadata following this rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ {
    &#39;downloadExtensions&#39;: {
        baseName: {
            os: {
                arch: downloadCount
            }
        }
    }
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="commands_shell.html" class="btn btn-neutral float-right" title="Commands shell" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installation.html" class="btn btn-neutral float-left" title="Installation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2018, Kitware, Inc.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>